<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div style="display:flex;justify-content:center;align-items:center;">
    <div>
        <button type="button" id="start" style="font-size: 48px">TEST</button>    
    </div>
</div>



<script type="text/javascript">
        function onBuyClicked() {
            const SAMSUNG_PAY = 'https://spay.samsung.com';

            if (window.PaymentRequest) {
                alert('SamsungPay available')
            }

            // Use Payment Request API
            var parnterId = 'ACCT_1DFMR2LGVW0K41TL'; // Stripe gateway acct id
            var serviceId = '04c022cbfb714b22a43fd8'; // Samsung service
            var merchantName = 'Tapin2'; //must be identical with merchant name from portal, event name?

            var orderId = '111';//$('#order-id').val();
            var amount = '2.00';//$('#total').val();

            var supportedInstruments = [
                {
                    supportedMethods: [SAMSUNG_PAY],
                    data: {
                        'version': '1', // always 1 until further notice
                        'productId': serviceId, // Service ID from partner portal
                        'merchantGatewayParameter': { 'userId': parnterId },
                        'allowedCardNetworks': ['mastercard', 'visa'],
                        'merchantName': merchantName,
                        'orderNumber': orderId
                    }
                }
            ];

            var details = {
                displayItems: [{
                    label: 'Order amount',
                    amount: { currency: 'USD', value: amount }
                }],
                total: {
                    label: 'Total due',
                    amount: { currency: 'USD', value: amount }
                }
            };
            var options = {
                requestShipping: false,
                requestPayerEmail: true,
                requestPayerPhone: true,
                requestPayerName: true
            };
        // Initialization
try
{
            var request = new PaymentRequest(supportedInstruments, details, options);

            // Show UI then continue with user payment info
            request.show().then(paymentResponse => {

                var paymentData = {
                    // payment method string, e.g. “amex”
                    method: paymentResponse.methodName,
                    // payment details contains payment information
                    details: paymentResponse.details
                };

                // send to server

            });
}

        
</script>
</body>
</html>

656
